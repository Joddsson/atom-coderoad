"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__decorate=this&&this.__decorate||function(e,t,r,a){var i,n=arguments.length,c=3>n?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,a);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(c=(3>n?i(c):n>3?i(t,r,c):i(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},React=require("react"),react_redux_1=require("react-redux"),Action=require("../../actions/actions"),material_ui_1=require("material-ui"),classNames=require("classnames"),Completed=require("material-ui/lib/svg-icons/toggle/check-box"),Current=require("material-ui/lib/svg-icons/av/play-circle-filled"),AllCompleted=require("material-ui/lib/svg-icons/action/done-all"),Incomplete=require("material-ui/lib/svg-icons/toggle/check-box-outline-blank"),ProgressPage=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getProgressIcon=function(e,t){return e?React.createElement(Completed,null):t?React.createElement(Current,null):React.createElement(Incomplete,null)},t.prototype.getButton=function(e,t){return e&&0===t.chapter&&0===t.page?React.createElement(material_ui_1.RaisedButton,{label:"Start",primary:!0,style:{height:"35px"}}):e?React.createElement(material_ui_1.RaisedButton,{label:"Continue",secondary:!0,style:{height:"35px",width:"100px"}}):null},t.prototype.canActivate=function(e,t,r){return e&&t.chapter<=r.chapter&&t.page<=r.page?!0:null},t.prototype.render=function(){var e=this.props.page,t=this.props.itemPosition,r=this.props.position,a=t.chapter===r.chapter&&t.page===r.page;return React.createElement(material_ui_1.ListItem,{key:t.page,className:classNames({"cr-page":!0,"cr-page-isDisabled":!this.canActivate(a,t,r)}),primaryText:t.page+1+". "+e.title,secondaryText:e.description,secondaryTextLines:e.description.length>50?2:1,leftIcon:this.getProgressIcon(e.completed,a),rightIcon:this.getButton(a,t),onClick:this.canActivate(a,t,r)?this.props.selectPage.bind(this,t):null})},t=__decorate([react_redux_1.connect(null,function(e){return{selectPage:function(t){e(Action.setPage(t)),e(Action.setRoute("page"))}}}),__metadata("design:paramtypes",[])],t)}(React.Component),style={height:"100%",width:"100%",margin:0};Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(e){var t=e.progress,r=e.position;return React.createElement(material_ui_1.Paper,{style:style,zDepth:1,className:"cr-progress"},React.createElement(material_ui_1.List,{subheader:"Progress"},t.chapters.map(function(e,t){var a=t===r.chapter;return React.createElement(material_ui_1.ListItem,{primaryText:t+1+". "+e.title,className:classNames({chapter:!0,isActive:a}),secondaryText:e.description,initiallyOpen:0===t,leftIcon:e.completed?React.createElement(AllCompleted,null):null,primaryTogglesNestedList:t===r.chapter&&!e.completed,nestedItems:e.pages.map(function(e,a){var i={chapter:t,page:a};return React.createElement(ProgressPage,{page:e,itemPosition:i,position:r})})})})))};