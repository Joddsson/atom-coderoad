"use strict";function taskProgress(e,t){return e/t*100}var __extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},__decorate=this&&this.__decorate||function(e,t,a,r){var n,i=arguments.length,c=3>i?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,a,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(c=(3>i?n(c):i>3?n(t,a,c):n(t,a))||c);return i>3&&c&&Object.defineProperty(t,a,c),c},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},React=require("react"),react_redux_1=require("react-redux"),Action=require("../../actions/actions"),_components_1=require("../_components"),classNames=require("classnames"),material_ui_1=require("material-ui"),colors_1=require("material-ui/lib/styles/colors"),Complete=require("material-ui/lib/svg-icons/toggle/check-box"),Incomplete=require("material-ui/lib/svg-icons/toggle/check-box-outline-blank"),RunningTest=require("material-ui/lib/svg-icons/toggle/indeterminate-check-box"),style={height:"100%",width:"100%"},logStyle={padding:"20px",width:"50%"},statusBar=document.getElementsByClassName("status-bar-left")[0],default_1=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.visibleTasks=function(){return this.props.tasks.slice(0,this.props.taskPosition+1)},t.prototype.getIcon=function(e,t){return t>e?React.createElement(Complete,{color:colors_1.green500}):e===t&&this.props.runTests?React.createElement(RunningTest,{color:colors_1.orange500}):React.createElement(Incomplete,null)},t.prototype.render=function(){var e=this,t=this.props.page,a=this.visibleTasks(),r=this.props.taskPosition,n=(this.props.log,r>=a.length);return React.createElement(material_ui_1.Paper,{style:style,zDepth:1,className:"cr-page"},React.createElement(material_ui_1.Card,null,React.createElement(material_ui_1.CardHeader,{title:t.title,subtitle:t.description}),React.createElement(material_ui_1.CardText,null,React.createElement(_components_1.MarkdownText,{text:t.explanation}))),React.createElement(material_ui_1.Divider,null),React.createElement(material_ui_1.List,{subheader:"Tasks",className:"cr-tasks"},a.map(function(t,n){var i=n===r,c=n>r,l=r>n,s=n>=a.length-1;return React.createElement("div",null,React.createElement(material_ui_1.ListItem,{className:classNames({"cr-task":!0,isCompletedTask:l,isCurrentTask:i,isDisabledTask:c})},React.createElement("span",{className:"cr-task-checkbox"},e.getIcon(n,r)," "),React.createElement("span",{className:"cr-task-index"},n+1,"."),React.createElement("div",{className:"cr-task-description"},React.createElement(_components_1.MarkdownText,{text:t.description}))),s?null:React.createElement(material_ui_1.Divider,null))})),React.createElement("section",{className:"cr-page-toolbar"},React.createElement(material_ui_1.LinearProgress,{mode:"determinate",value:taskProgress(r,a.length),style:{height:"6px"}}),React.createElement(material_ui_1.Toolbar,null,React.createElement(material_ui_1.ToolbarGroup,{"float":"right"},null,n?React.createElement(material_ui_1.RaisedButton,{label:"Continue",primary:!0,onClick:this.props.callNextPage}):React.createElement(material_ui_1.RaisedButton,{label:"Run",secondary:!0,onClick:this.props.callRunTests})))))},t=__decorate([react_redux_1.connect(null,function(e,t){return{callNextPage:function(){return e(Action.nextPage())},callRunTests:function(){return e(Action.runTests())},toggleLog:function(){return e(Action.toggleLog())}}}),__metadata("design:paramtypes",[])],t)}(React.Component);Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=default_1;