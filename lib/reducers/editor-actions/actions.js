function getCommand(t){var e=t.substring(0,t.indexOf("("));return e.length?e:void console.log("Error loading editor action command ",t)}function getParams(t){var e=getCommand(t),r=t.substring(e.length+1,t.length-1);return r.length?r=parser_1.parseParams.getParams(r):(console.error("Error loading editor action params ",t),"")}function createObjectFromKeyValString(t){for(var e=t.split(/[:,]/),r={},o=0;o<e.length;o+=2){var n=e[o].trim(),i=e[o+1].trim();i=i.match(/^["'].+["']$/)?i.substring(1,i.length-1):JSON.parse(i),r[n]=i}return r}function getOptions(t){var e=t.match(/\{(.+)?\}/),r={},o=t;return e&&(r=createObjectFromKeyValString(e[1]),o=t.split(/, ?{/)[0]),{options:r,param:o}}function editorActions(t){return new Promise(function(e,r){var o=getCommand(t),n=getParams(t);switch(o){case EditorAction.open:var i=getOptions(n[0]),a=i.param,s=i.options;1===n.length&&(Editor.open(a,s),console.log("open"),setTimeout(function(){e()}));break;case EditorAction.set:if(1===n.length){var c=n[0];setTimeout(function(){Editor.set(c),console.log("set"),e(!0)})}break;case EditorAction.insert:if(1===n.length){var c=n[0];setTimeout(function(){Editor.insert(c,{}),console.log("insert"),e(!0)})}break;default:console.log("Invalid editor action command"),r(!1)}})["catch"](function(t){console.error("Error with editor",t)})}var Editor=require("../../atom/editor"),parser_1=require("./parser"),EditorAction={open:"open",set:"set",insert:"insert"};exports.getCommand=getCommand,exports.getParams=getParams,exports.getOptions=getOptions,exports.editorActions=editorActions;