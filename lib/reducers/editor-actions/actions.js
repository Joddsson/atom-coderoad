function getCommand(t){var r=t.substring(0,t.indexOf("("));return r.length?r:void console.log("Error loading editor action command ",t)}function getParams(t){var r=getCommand(t),e=t.substring(r.length+1,t.length-1);return e.length?e=parser_1.parseParams.getParams(e):(console.error("Error loading editor action params ",t),"")}function createObjectFromKeyValString(t){for(var r=t.split(/[:,]/),e={},o=0;o<r.length;o+=2){var n=r[o].trim(),i=r[o+1].trim();i=i.match(/^["'].+["']$/)?i.substring(1,i.length-1):JSON.parse(i),e[n]=i}return e}function getOptions(t){var r=t.match(/\{(.+)?\}/),e={},o=t;return r&&(e=createObjectFromKeyValString(r[1]),o=t.split(/, ?{/)[0]),{options:e,param:o}}function editorActions(t){return new Promise(function(r,e){var o=getCommand(t),n=getParams(t);switch(o){case EditorAction.open:var i=getOptions(n[0]),a=i.param,s=i.options;1===n.length&&(Editor.open(a,s),setTimeout(function(){r()}));break;case EditorAction.set:if(1===n.length){var c=n[0];setTimeout(function(){Editor.set(c),r(!0)})}break;case EditorAction.insert:if(1===n.length){var c=n[0];setTimeout(function(){Editor.insert(c,{}),r(!0)})}break;default:console.log("Invalid editor action command"),e(!1)}})["catch"](function(t){console.error("Error with editor",t)})}var Editor=require("../../atom/editor"),parser_1=require("./parser"),EditorAction={open:"open",set:"set",insert:"insert"};exports.getCommand=getCommand,exports.getParams=getParams,exports.getOptions=getOptions,exports.editorActions=editorActions;