function getCommand(t){var o=t.substring(0,t.indexOf("("));return o.length?o:void console.log("Error loading editor action command ",t)}function getParams(t){var o=getCommand(t),r=t.substring(o.length+1,t.length-1);return r.length?r.split(", ").map(function(t){return t||console.log("Error loading editor action param ",t),t.charAt(0).match(/["']/)&&t.charAt(t.length-1).match(/["']/)&&(t=t.substring(1,t.length-1)),t}):(console.error("Error loading editor action params ",t),"")}function createObjectFromKeyValString(t){for(var o=t.split(/[:,]/),r={},e=0;e<o.length;e+=2){var n=o[e].trim(),i=o[e+1].trim();i=i.match(/^["'].+["']$/)?i.substring(1,i.length-1):JSON.parse(i),r[n]=i}return r}function getOptions(t){var o=t.match(/\{(.+)?\}/),r={},e=t;return o&&(r=createObjectFromKeyValString(o[1]),e=t.split(/, ?{/)[0]),{options:r,param:e}}function editorActions(t){return new Promise(function(o,r){var e=getCommand(t),n=getParams(t);switch(e){case EditorAction.open:var i=getOptions(n[0]),a=i.param,s=i.options;1===n.length&&(Editor.open(a,s),console.log("open"),setTimeout(function(){o()}));break;case EditorAction.set:if(1===n.length){var c=n[0];setTimeout(function(){Editor.set(c),console.log("set"),o(!0)})}break;case EditorAction.insert:if(1===n.length){var g=getOptions(n[0]),c=g.param,m=g.options;setTimeout(function(){Editor.insert(c,m),console.log("insert"),o(!0)})}break;default:console.log("Invalid editor action command"),r(!1)}})["catch"](function(t){console.error("Error with editor",t)})}var Editor=require("../../atom/editor"),EditorAction={open:"open",set:"set",insert:"insert"};exports.getCommand=getCommand,exports.getParams=getParams,exports.getOptions=getOptions,exports.editorActions=editorActions;